<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Lomse library. API documentation: Interactor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="lomse.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_100x195.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lomse library. API documentation
   &#160;<span id="projectnumber">0.18.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="modules.html"><span>Types&#160;and&#160;constants</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="pages.html"><span>Other</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classInteractor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="classInteractor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Interactor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lomse__interactor_8h_source.html">lomse_interactor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Interactor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classInteractor.png" usemap="#Interactor_map" alt=""/>
  <map id="Interactor_map" name="Interactor_map">
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Interactor is the key object to interact with the document (here the name 'Interactor'). It is the interface between your application, the associated View and the Document (see <a class="el" href="render-overview.html#mvc-overview">The Lomse Model-View-Controller</a>). It is responsible for translating your application requests into commands that manipulate the associated View and/or the Document, coordinating all the necessary actions. It also provides support for managing the user interaction with your application GUI (see <a class="el" href="tasks-page.html">Interaction with your application GUI</a>).</p>
<p>The Interactor plays the role of the Controller in the MVC model. Each View has an associated Interactor (in fact the View is owned by the Interactor). The Interactor is owned by the <a class="el" href="classPresenter.html">Presenter</a>.</p>
<p>The Interactor for a View is provided by the <a class="el" href="classPresenter.html">Presenter</a>. It is best practise not to save pointers to the Interactor because when processing a Lomse event the Document (and thus, the <a class="el" href="classInteractor.html">Interactor</a>) could have been deleted (i.e. because your application has closed the window displaying the document).</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>Explain SpInteractor type</dd></dl>
<p>It is always recommended to get the pointer to the Interactor when needed and to use smart pointers:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//use the Interactor</span></div>
<div class="line">    spInteractor-&gt;some_method();</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>See:</p>
<ul>
<li><a class="el" href="render-overview.html#mvc-overview">The Lomse Model-View-Controller</a>.</li>
<li><a class="el" href="tasks-page.html">Interaction with your application GUI</a>. </li>
</ul>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad4f899789a36ae984e9861aa6b91a6f8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ad4f899789a36ae984e9861aa6b91a6f8">EInteractorOpMode</a> </td></tr>
<tr class="separator:ad4f899789a36ae984e9861aa6b91a6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8858370241ddad5b8a36300b22f5665"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ad8858370241ddad5b8a36300b22f5665">ETimingTarget</a> </td></tr>
<tr class="separator:ad8858370241ddad5b8a36300b22f5665"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Modes of operation and related</div></td></tr>
<tr class="memitem:acb5d21578acde66c5da165f1fa808fb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#acb5d21578acde66c5da165f1fa808fb6">set_operating_mode</a> (int mode)</td></tr>
<tr class="separator:acb5d21578acde66c5da165f1fa808fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b25e85a6074cc637ea6bd2a30e5bead"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a0b25e85a6074cc637ea6bd2a30e5bead">get_operating_mode</a> ()</td></tr>
<tr class="separator:a0b25e85a6074cc637ea6bd2a30e5bead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4bb24b0a1deda5216e35ee111328fba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ad4bb24b0a1deda5216e35ee111328fba">enable_edition_restricted_to</a> (ImoId id)</td></tr>
<tr class="separator:ad4bb24b0a1deda5216e35ee111328fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e96befa4410ffe879ed55fc09d6c62b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a3e96befa4410ffe879ed55fc09d6c62b">is_document_editable</a> ()</td></tr>
<tr class="separator:a3e96befa4410ffe879ed55fc09d6c62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c4afa0e8fd9136b5d1f2a52666c44f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#af7c4afa0e8fd9136b5d1f2a52666c44f">switch_task</a> (int taskType)</td></tr>
<tr class="separator:af7c4afa0e8fd9136b5d1f2a52666c44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Access to collaborators in MVC model</div></td></tr>
<tr class="memitem:ab5192c9307818200f5b08e93892c61ed"><td class="memItemLeft" align="right" valign="top">GraphicModel *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ab5192c9307818200f5b08e93892c61ed">get_graphic_model</a> ()</td></tr>
<tr class="separator:ab5192c9307818200f5b08e93892c61ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac9826efeddfba9c2ed3f8d1db0f96a"><td class="memItemLeft" align="right" valign="top">View *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#aaac9826efeddfba9c2ed3f8d1db0f96a">get_view</a> ()</td></tr>
<tr class="separator:aaac9826efeddfba9c2ed3f8d1db0f96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1d978d7d7e4ef3e6e6b6495cf9d2d0"><td class="memItemLeft" align="right" valign="top">SelectionSet *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#aaf1d978d7d7e4ef3e6e6b6495cf9d2d0">get_selection_set</a> ()</td></tr>
<tr class="separator:aaf1d978d7d7e4ef3e6e6b6495cf9d2d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to View</div></td></tr>
<tr class="memitem:a06e3f55dc1042e165adc50493d0f90b4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a06e3f55dc1042e165adc50493d0f90b4">redraw_bitmap</a> ()</td></tr>
<tr class="separator:a06e3f55dc1042e165adc50493d0f90b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae370a7f70f2ea4269f38f9361428d133"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ae370a7f70f2ea4269f38f9361428d133">force_redraw</a> ()</td></tr>
<tr class="separator:ae370a7f70f2ea4269f38f9361428d133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8da1fe0fd8adddf1b30bcebf608636"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#add8da1fe0fd8adddf1b30bcebf608636">view_needs_repaint</a> ()</td></tr>
<tr class="separator:add8da1fe0fd8adddf1b30bcebf608636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3108aa6a66e6db48008e8863f4604232"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a3108aa6a66e6db48008e8863f4604232">send_end_of_play_event</a> (ImoScore *pScore, PlayerGui *pPlayCtrl)</td></tr>
<tr class="separator:a3108aa6a66e6db48008e8863f4604232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d45c58e82e2de3c3bb31e414984923b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a5d45c58e82e2de3c3bb31e414984923b">enable_forced_view_updates</a> (bool value)</td></tr>
<tr class="separator:a5d45c58e82e2de3c3bb31e414984923b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Rederization</div></td></tr>
<tr class="memitem:a2494425c26d19946921e4b4e97f189f3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a2494425c26d19946921e4b4e97f189f3">set_rendering_buffer</a> (RenderingBuffer *rbuf)</td></tr>
<tr class="separator:a2494425c26d19946921e4b4e97f189f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab802d6e8a3fc482aa7f0fdf9029aecae"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ab802d6e8a3fc482aa7f0fdf9029aecae">set_rendering_option</a> (int option, bool value)</td></tr>
<tr class="separator:ab802d6e8a3fc482aa7f0fdf9029aecae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Coordinates conversion</div></td></tr>
<tr class="memitem:aaa5e88bd7eaa484ae2f0c11ab29e34ff"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#aaa5e88bd7eaa484ae2f0c11ab29e34ff">screen_point_to_page_point</a> (double *x, double *y)</td></tr>
<tr class="separator:aaa5e88bd7eaa484ae2f0c11ab29e34ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27a39c9cdbce876919dcd2a2205492e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ae27a39c9cdbce876919dcd2a2205492e">model_point_to_screen</a> (double *x, double *y, int iPage)</td></tr>
<tr class="separator:ae27a39c9cdbce876919dcd2a2205492e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75600fd031826c9ae48ca4ada8b7ddce"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a75600fd031826c9ae48ca4ada8b7ddce">page_at_screen_point</a> (double x, double y)</td></tr>
<tr class="separator:a75600fd031826c9ae48ca4ada8b7ddce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a986167b680f97ad5914c69343a7d15c5"><td class="memItemLeft" align="right" valign="top">virtual UPoint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a986167b680f97ad5914c69343a7d15c5">screen_point_to_model_point</a> (Pixels x, Pixels y)</td></tr>
<tr class="separator:a986167b680f97ad5914c69343a7d15c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dcd4218ab368cfba17ca1ef6974c012"><td class="memItemLeft" align="right" valign="top">DiatonicPitch&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a3dcd4218ab368cfba17ca1ef6974c012">get_pitch_at</a> (Pixels x, Pixels y)</td></tr>
<tr class="separator:a3dcd4218ab368cfba17ca1ef6974c012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Viewport (for scrolling)</div></td></tr>
<tr class="memitem:a0eb3195aed54028cc3f250c38029e8f8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a0eb3195aed54028cc3f250c38029e8f8">new_viewport</a> (Pixels x, Pixels y, bool fForceRedraw=true)</td></tr>
<tr class="separator:a0eb3195aed54028cc3f250c38029e8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81455e8a584d8dff982c3f43e92e7f34"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a81455e8a584d8dff982c3f43e92e7f34">set_viewport_at_page_center</a> (Pixels screenWidth)</td></tr>
<tr class="separator:a81455e8a584d8dff982c3f43e92e7f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7dac3c7d8b7d629f38b79750e34905"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#afc7dac3c7d8b7d629f38b79750e34905">get_viewport</a> (Pixels *x, Pixels *y)</td></tr>
<tr class="separator:afc7dac3c7d8b7d629f38b79750e34905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331181fe34d2f9399578bbe4be3f5f65"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a331181fe34d2f9399578bbe4be3f5f65">get_view_size</a> (Pixels *xWidth, Pixels *yHeight)</td></tr>
<tr class="separator:a331181fe34d2f9399578bbe4be3f5f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Scale</div></td></tr>
<tr class="memitem:ad79a50661807b829755219e4bdf21121"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ad79a50661807b829755219e4bdf21121">get_scale</a> ()</td></tr>
<tr class="separator:ad79a50661807b829755219e4bdf21121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7dbf2be635475f40ba9b723a902d37"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a5e7dbf2be635475f40ba9b723a902d37">set_scale</a> (double scale, Pixels x=0, Pixels y=0, bool fForceRedraw=true)</td></tr>
<tr class="separator:a5e7dbf2be635475f40ba9b723a902d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec8ec1d6b84a74d656f2773c741e222"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a4ec8ec1d6b84a74d656f2773c741e222">zoom_in</a> (Pixels x=0, Pixels y=0, bool fForceRedraw=true)</td></tr>
<tr class="separator:a4ec8ec1d6b84a74d656f2773c741e222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc96dec0a3767152cd953d2ec68ec96"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a6fc96dec0a3767152cd953d2ec68ec96">zoom_out</a> (Pixels x=0, Pixels y=0, bool fForceRedraw=true)</td></tr>
<tr class="separator:a6fc96dec0a3767152cd953d2ec68ec96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83345221209221be48169f01a4cd253"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ac83345221209221be48169f01a4cd253">zoom_fit_full</a> (Pixels width, Pixels height, bool fForceRedraw=true)</td></tr>
<tr class="separator:ac83345221209221be48169f01a4cd253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d486a75231279d13370cb9744f8cf11"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a8d486a75231279d13370cb9744f8cf11">zoom_fit_width</a> (Pixels width, bool fForceRedraw=true)</td></tr>
<tr class="separator:a8d486a75231279d13370cb9744f8cf11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Selection rectangle</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Selection rectangle methods and explanation </dd></dl>
</div></td></tr>
<tr class="memitem:a9de671ca65612c859732ad6434428733"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9de671ca65612c859732ad6434428733"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>start_selection_rectangle</b> (Pixels x1, Pixels y1)</td></tr>
<tr class="separator:a9de671ca65612c859732ad6434428733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d304039336565267cd3a6d201dc2813"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d304039336565267cd3a6d201dc2813"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>hide_selection_rectangle</b> ()</td></tr>
<tr class="separator:a4d304039336565267cd3a6d201dc2813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Playback effects: tempo line</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>Tempo line methods and Playback effects explanation </dd></dl>
</div></td></tr>
<tr class="memitem:a2def330212e2b83cbfabae9ed9b20cb0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2def330212e2b83cbfabae9ed9b20cb0"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>show_tempo_line</b> (Pixels x1, Pixels y1, Pixels x2, Pixels y2)</td></tr>
<tr class="separator:a2def330212e2b83cbfabae9ed9b20cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2b410b4afb0f4bc053da9edf3b0e93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c2b410b4afb0f4bc053da9edf3b0e93"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>hide_tempo_line</b> ()</td></tr>
<tr class="separator:a8c2b410b4afb0f4bc053da9edf3b0e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b33f9e7acfbd40f4b5d0178d2f634c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b33f9e7acfbd40f4b5d0178d2f634c1"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>update_tempo_line</b> (Pixels x2, Pixels y2)</td></tr>
<tr class="separator:a3b33f9e7acfbd40f4b5d0178d2f634c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Playback effects: highlight played notes/rests</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd>Highlight methods and Playback effects explanation </dd></dl>
</div></td></tr>
<tr class="memitem:ab4dcd3324a54fa2055aa0bf1b9d732e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4dcd3324a54fa2055aa0bf1b9d732e2"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>highlight_object</b> (ImoStaffObj *pSO)</td></tr>
<tr class="separator:ab4dcd3324a54fa2055aa0bf1b9d732e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d316cedd6b7cf08d69ffecc3c2e843"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98d316cedd6b7cf08d69ffecc3c2e843"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>remove_highlight_from_object</b> (ImoStaffObj *pSO)</td></tr>
<tr class="separator:a98d316cedd6b7cf08d69ffecc3c2e843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34807c72cdf1f53075e4771b86ef64a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34807c72cdf1f53075e4771b86ef64a0"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>remove_all_highlight</b> ()</td></tr>
<tr class="separator:a34807c72cdf1f53075e4771b86ef64a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1af72d8d3c797f79e736b553233a5aa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1af72d8d3c797f79e736b553233a5aa"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>discard_all_highlight</b> ()</td></tr>
<tr class="separator:ae1af72d8d3c797f79e736b553233a5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f6da91ca760a12d8eea57c4e209d1e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63f6da91ca760a12d8eea57c4e209d1e"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>on_visual_highlight</b> (SpEventScoreHighlight pEvent)</td></tr>
<tr class="separator:a63f6da91ca760a12d8eea57c4e209d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface to GraphicView. Print related</div></td></tr>
<tr class="memitem:ab5402ba5556ee21c50bfab7a097cc5eb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ab5402ba5556ee21c50bfab7a097cc5eb">set_print_buffer</a> (RenderingBuffer *rbuf)</td></tr>
<tr class="separator:ab5402ba5556ee21c50bfab7a097cc5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56006a47ef6164ad139c2d5bb1e17c3d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a56006a47ef6164ad139c2d5bb1e17c3d">set_print_ppi</a> (double ppi)</td></tr>
<tr class="separator:a56006a47ef6164ad139c2d5bb1e17c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f7fb6d5f2a8b0b6d4b5e670c96e06d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a45f7fb6d5f2a8b0b6d4b5e670c96e06d">print_page</a> (int page, VPoint viewport=VPoint(0, 0))</td></tr>
<tr class="separator:a45f7fb6d5f2a8b0b6d4b5e670c96e06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4030a9cf2342d198a5890c30cecec4b7"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a4030a9cf2342d198a5890c30cecec4b7">get_num_pages</a> ()</td></tr>
<tr class="separator:a4030a9cf2342d198a5890c30cecec4b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Cursor and caret related methods</div></td></tr>
<tr class="memitem:a7f68d9df4df24a71f02b4cc906c71a56"><td class="memItemLeft" align="right" valign="top">DocCursor *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a7f68d9df4df24a71f02b4cc906c71a56">get_cursor</a> ()</td></tr>
<tr class="separator:a7f68d9df4df24a71f02b4cc906c71a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0eb1b3b36c719575bb4309f78ae40f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ab0eb1b3b36c719575bb4309f78ae40f1">blink_caret</a> ()</td></tr>
<tr class="separator:ab0eb1b3b36c719575bb4309f78ae40f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30c10982952f57d03a3e992e90eaca0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ac30c10982952f57d03a3e992e90eaca0">get_caret_timecode</a> ()</td></tr>
<tr class="separator:ac30c10982952f57d03a3e992e90eaca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077b8554590f3ae5890e3d42f6d779f2"><td class="memItemLeft" align="right" valign="top">DocCursorState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a077b8554590f3ae5890e3d42f6d779f2">click_event_to_cursor_state</a> (SpEventMouse event)</td></tr>
<tr class="separator:a077b8554590f3ae5890e3d42f6d779f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cf3a31b6c7e7bd4c6b22c20bb87f73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a81cf3a31b6c7e7bd4c6b22c20bb87f73">select_voice</a> (int voice)</td></tr>
<tr class="separator:a81cf3a31b6c7e7bd4c6b22c20bb87f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Drag image associated to mouse cursor</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd>Drag images explanation and methods for dragging images </dd></dl>
</div></td></tr>
<tr class="memitem:ae1718f600ea3dec0017e200e1f00869a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1718f600ea3dec0017e200e1f00869a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>show_drag_image</b> (bool value)</td></tr>
<tr class="separator:ae1718f600ea3dec0017e200e1f00869a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd47daf48a752d1e4c0f69eb0d9f0be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bd47daf48a752d1e4c0f69eb0d9f0be"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_drag_image</b> (GmoShape *pShape, bool fGetOwnership, UPoint offset)</td></tr>
<tr class="separator:a7bd47daf48a752d1e4c0f69eb0d9f0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0579315896d75bfd6f54df2cad4f9d82"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0579315896d75bfd6f54df2cad4f9d82"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>enable_drag_image</b> (bool fEnabled)</td></tr>
<tr class="separator:a0579315896d75bfd6f54df2cad4f9d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Document edition</div></td></tr>
<tr class="memitem:ac0f2b87ac27d4d4a4692dc9ce5b42291"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ac0f2b87ac27d4d4a4692dc9ce5b42291">exec_command</a> (<a class="el" href="classDocCommand.html">DocCommand</a> *pCmd)</td></tr>
<tr class="separator:ac0f2b87ac27d4d4a4692dc9ce5b42291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827410e940b1c1d7bcc42414d73a33aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">exec_undo</a> ()</td></tr>
<tr class="separator:a827410e940b1c1d7bcc42414d73a33aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6571c803f6a3626793756119821101e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a6571c803f6a3626793756119821101e8">exec_redo</a> ()</td></tr>
<tr class="separator:a6571c803f6a3626793756119821101e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd162053d322ad64eb94159e1437ce1e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#abd162053d322ad64eb94159e1437ce1e">should_enable_edit_undo</a> ()</td></tr>
<tr class="separator:abd162053d322ad64eb94159e1437ce1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb104713775c65888909f3f1404faad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a1fb104713775c65888909f3f1404faad">should_enable_edit_redo</a> ()</td></tr>
<tr class="separator:a1fb104713775c65888909f3f1404faad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">User application: to inform Lomse about certain events</div></td></tr>
<tr class="memitem:aed88fd6863f5cfff75bb53424a70a7b0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#aed88fd6863f5cfff75bb53424a70a7b0">on_document_updated</a> ()</td></tr>
<tr class="separator:aed88fd6863f5cfff75bb53424a70a7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a50ff5b4d8e3f8892f9b096efe1f471"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a7a50ff5b4d8e3f8892f9b096efe1f471">on_mouse_move</a> (Pixels x, Pixels y, unsigned flags)</td></tr>
<tr class="separator:a7a50ff5b4d8e3f8892f9b096efe1f471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeecb406ca9317f8febb34c5859fbf02"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#aeeecb406ca9317f8febb34c5859fbf02">on_mouse_button_down</a> (Pixels x, Pixels y, unsigned flags)</td></tr>
<tr class="separator:aeeecb406ca9317f8febb34c5859fbf02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc49c6e8ed61a099d26fb807fa0799b8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#adc49c6e8ed61a099d26fb807fa0799b8">on_mouse_button_up</a> (Pixels x, Pixels y, unsigned flags)</td></tr>
<tr class="separator:adc49c6e8ed61a099d26fb807fa0799b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730f04bba76db217ff36512f63600470"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a730f04bba76db217ff36512f63600470">on_mouse_enter_window</a> (Pixels x, Pixels y, unsigned flags)</td></tr>
<tr class="separator:a730f04bba76db217ff36512f63600470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfb111029c260532f849362bf3b15f9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#afbfb111029c260532f849362bf3b15f9">on_mouse_leave_window</a> (Pixels x, Pixels y, unsigned flags)</td></tr>
<tr class="separator:afbfb111029c260532f849362bf3b15f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">For performance measurements</div></td></tr>
<tr class="memitem:a8fa25043ac4be5ed9b5ebfb1368599de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a8fa25043ac4be5ed9b5ebfb1368599de">timing_repaint_done</a> ()</td></tr>
<tr class="separator:a8fa25043ac4be5ed9b5ebfb1368599de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87619c91a3ff8cb323815c2b3c088a2"><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ab87619c91a3ff8cb323815c2b3c088a2">get_elapsed_times</a> ()</td></tr>
<tr class="separator:ab87619c91a3ff8cb323815c2b3c088a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Debugging</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods are oriented to debug Lomse and should not be in the public API. If you use them be aware that they might be removed from public API in future. </p>
</div></td></tr>
<tr class="memitem:a49da5398dca0fe4f7d15c5cceac23309"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a49da5398dca0fe4f7d15c5cceac23309">set_box_to_draw</a> (int boxType)</td></tr>
<tr class="separator:a49da5398dca0fe4f7d15c5cceac23309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af189f66901e4afab55d90407b12cb350"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#af189f66901e4afab55d90407b12cb350">reset_boxes_to_draw</a> ()</td></tr>
<tr class="separator:af189f66901e4afab55d90407b12cb350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ba1f1700deaf912f80f7b460ab508f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#a77ba1f1700deaf912f80f7b460ab508f">dump_cursor</a> ()</td></tr>
<tr class="separator:a77ba1f1700deaf912f80f7b460ab508f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1d2c30aa1f16e2cd5c8c9a1b7c9659"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInteractor.html#ace1d2c30aa1f16e2cd5c8c9a1b7c9659">dump_selection</a> ()</td></tr>
<tr class="separator:ace1d2c30aa1f16e2cd5c8c9a1b7c9659"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ad4f899789a36ae984e9861aa6b91a6f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classInteractor.html#ad4f899789a36ae984e9861aa6b91a6f8">Interactor::EInteractorOpMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Valid operating modes for the Interactor:</p>
<ul>
<li><b>k_mode_read_only</b> - Read only mode: no changes allowed in the document.</li>
<li><b>k_mode_edition</b> - Edition mode: changes allowed in the document.</li>
<li><b>k_mode_playback</b> - Playback mode: disabled any action that could affect playback in any way. Edition is disabled in this mode. </li>
</ul>

</div>
</div>
<a class="anchor" id="ad8858370241ddad5b8a36300b22f5665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classInteractor.html#ad8858370241ddad5b8a36300b22f5665">Interactor::ETimingTarget</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method <a class="el" href="classInteractor.html#ab87619c91a3ff8cb323815c2b3c088a2">Interactor::get_elapsed_times()</a> returns a vector of elapsed times. This enum is used as index on that vector for identifying the operation to which each vector element refers. So, for instance, times[0] is the time for building the graphic model (0 = <em>k_timing_gmodel_build_time</em>), times[1] is the time for rendering the graphic model (1 = <em>k_timing_gmodel_draw_time</em>), etc, according to this:</p>
<ul>
<li><b>k_timing_gmodel_build_time = 0</b> - elapsed time for building the graphic model.</li>
<li><b>k_timing_gmodel_draw_time = 1</b> - elapsed time for rendering the graphic model</li>
<li><b>k_timing_visual_effects_draw_time = 2</b> - elapsed time for rendering the visual effects</li>
<li><b>k_timing_total_render_time = 3</b> - total elapsed time for renderization</li>
<li><b>k_timing_repaint_time = 4</b> - elapsed time for repainting the view</li>
<li><b>k_timing_max_value</b> - Not used as index. This value is for knowing how many items you should expect in the returned vector, for allocating space. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab0eb1b3b36c719575bb4309f78ae40f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::blink_caret </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Switch the state of the caret: if it is visible, hide it; if it is hidden, show it. Lomse caret does not blink and this method is oriented to implement a blinking caret in your application.</p>
<p>See <a class="el" href="document-edition-overview.html">Editing documents overview</a></p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>Caret is always shown when document edition is enabled. and it is hidden when edition is disabled.</li>
<li>This method has no effect when document edition is disabled. That is, if edition is not enabled, you cannot use this method for forcing to display the caret.</li>
<li>See <a class="el" href="classInteractor.html#acb5d21578acde66c5da165f1fa808fb6">set_operating_mode()</a>.</li>
</ul>
</dd></dl>
<p>If your application would like a blinking caret, you will have to use a timer for the caret and switch the caret state on each timer event. This is an example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> MainFrame::on_caret_timer_event()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classInteractor.html">Interactor</a>* pInteractor = get_active_canvas_interactor();</div>
<div class="line">    <span class="keywordflow">if</span> (pInteractor)</div>
<div class="line">        pInteractor-&gt;<a class="code" href="classInteractor.html#ab0eb1b3b36c719575bb4309f78ae40f1">blink_caret</a>();</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a077b8554590f3ae5890e3d42f6d779f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DocCursorState Interactor::click_event_to_cursor_state </td>
          <td>(</td>
          <td class="paramtype">SpEventMouse&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a DocCursorState object pointing to the nearest valid position to the mouse click point.</p>
<p>This is a support method for applications wishing to get cursor related information from mouse clicks. For instance, to move the caret by pointing with the mouse and clicking:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::move_cursor_to_click_point(SpEventMouse event)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!m_pPresenter)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spIntor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (spIntor-&gt;get_operating_mode() == Interactor::k_mode_edition)</div>
<div class="line">        {</div>
<div class="line">            DocCursorState state = spIntor-&gt;click_event_to_cursor_state(event);</div>
<div class="line">            spIntor-&gt;exec_command(<span class="keyword">new</span> <a class="code" href="classCmdCursor.html">CmdCursor</a>(state));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a77ba1f1700deaf912f80f7b460ab508f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Interactor::dump_cursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an string with the content of current <em>Cursor</em>.</p>
<dl class="section attention"><dt>Attention</dt><dd>This method is oriented to debug Lomse. It might be removed from public API in future. </dd></dl>

</div>
</div>
<a class="anchor" id="ace1d2c30aa1f16e2cd5c8c9a1b7c9659"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Interactor::dump_selection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an string with the content of current <em>Selection Set</em>.</p>
<dl class="section attention"><dt>Attention</dt><dd>This method is oriented to debug Lomse. It might be removed from public API in future. </dd></dl>

</div>
</div>
<a class="anchor" id="ad4bb24b0a1deda5216e35ee111328fba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::enable_edition_restricted_to </td>
          <td>(</td>
          <td class="paramtype">ImoId&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When in edition mode, invoking this method disables edition in all the document with the exception of the object whose ID is passed. This method allows your application to restrict edition to a certain area of the document, such as an score, a paragraph, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID of the only object that will be editable after invoking this method. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5d45c58e82e2de3c3bb31e414984923b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::enable_forced_view_updates </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoking this method controls the behavior of method <a class="el" href="classInteractor.html#ae370a7f70f2ea4269f38f9361428d133">force_redraw()</a>. If disabled, Lomse will ignore any invocation to <a class="el" href="classInteractor.html#ae370a7f70f2ea4269f38f9361428d133">force_redraw()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td><span class="literal">true</span> for enabling method <a class="el" href="classInteractor.html#ae370a7f70f2ea4269f38f9361428d133">force_redraw()</a>. <span class="literal">false</span> for ignoring invocations to this method.</td></tr>
  </table>
  </dd>
</dl>
<p>By default, <a class="el" href="classInteractor.html#ae370a7f70f2ea4269f38f9361428d133">force_redraw()</a> method is enabled. </p>

</div>
</div>
<a class="anchor" id="ac0f2b87ac27d4d4a4692dc9ce5b42291"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::exec_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDocCommand.html">DocCommand</a> *&#160;</td>
          <td class="paramname"><em>pCmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute an edition command for modifying the document content, the current set of selected objects or the cursor position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCmd</td><td>The command to execute.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This method has no effect when document edition is disabled. See <a class="el" href="classInteractor.html#acb5d21578acde66c5da165f1fa808fb6">set_operating_mode()</a>.</dd></dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> CommandGenerator::insert_rest(ENoteType noteType, <span class="keywordtype">int</span> dots, <span class="keywordtype">int</span> voice, <span class="keywordtype">int</span> staff)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//insert a rest at current cursor position</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        stringstream src;</div>
<div class="line">        src &lt;&lt; <span class="stringliteral">&quot;(r &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot; &quot;</span> &lt;&lt; LdpExporter::notetype_to_string(noteType, dots)</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot; v&quot;</span> &lt;&lt; voice</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot; p&quot;</span> &lt;&lt; staff+1</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">        <span class="keywordtype">string</span> name = <span class="stringliteral">&quot;Insert rest&quot;</span>;</div>
<div class="line">        spInteractor-&gt;exec_command( <span class="keyword">new</span> <a class="code" href="classCmdInsertStaffObj.html">CmdInsertStaffObj</a>(src.str(), name) );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>See <a class="el" href="document-edition-overview.html#edit-overview">The edition API</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">exec_undo()</a>, <a class="el" href="classInteractor.html#a6571c803f6a3626793756119821101e8">exec_redo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6571c803f6a3626793756119821101e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::exec_redo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Redo the last edition command undone via <a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">exec_undo()</a>.</p>
<dl class="section remark"><dt>Remarks</dt><dd>This method has no effect when document edition is disabled. See <a class="el" href="classInteractor.html#acb5d21578acde66c5da165f1fa808fb6">set_operating_mode()</a>.</dd></dl>
<p>See <a class="el" href="document-edition-overview.html#edit-overview">The edition API</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#ac0f2b87ac27d4d4a4692dc9ce5b42291">exec_command()</a>, <a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">exec_undo()</a>, <a class="el" href="classInteractor.html#a1fb104713775c65888909f3f1404faad">should_enable_edit_redo()</a>, </dd></dl>

</div>
</div>
<a class="anchor" id="a827410e940b1c1d7bcc42414d73a33aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::exec_undo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undo the last edition command executed via <a class="el" href="classInteractor.html#ac0f2b87ac27d4d4a4692dc9ce5b42291">exec_command()</a>.</p>
<dl class="section remark"><dt>Remarks</dt><dd>This method has no effect when document edition is disabled. See <a class="el" href="classInteractor.html#acb5d21578acde66c5da165f1fa808fb6">set_operating_mode()</a>.</dd></dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::on_edit_undo()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">        spInteractor-&gt;exec_undo();</div>
<div class="line">}</div>
</div><!-- fragment --><p>See <a class="el" href="document-edition-overview.html#edit-overview">The edition API</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#ac0f2b87ac27d4d4a4692dc9ce5b42291">exec_command()</a>, <a class="el" href="classInteractor.html#a6571c803f6a3626793756119821101e8">exec_redo()</a>, <a class="el" href="classInteractor.html#abd162053d322ad64eb94159e1437ce1e">should_enable_edit_undo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae370a7f70f2ea4269f38f9361428d133"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::force_redraw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoking this method forces Lomse to render again the View and, therefore, the rendering buffer gets updated. After doing it, Lomse <b>will</b> generate a EventPaint event.</p>
<dl class="section note"><dt>Note</dt><dd>Lomse will ignore the request if forced updates are disabled. See <a class="el" href="classInteractor.html#a5d45c58e82e2de3c3bb31e414984923b">enable_forced_view_updates()</a>.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>Clarify the need of methods <a class="el" href="classInteractor.html#ae370a7f70f2ea4269f38f9361428d133">force_redraw()</a>, <a class="el" href="classInteractor.html#a06e3f55dc1042e165adc50493d0f90b4">redraw_bitmap()</a> and <a class="el" href="classInteractor.html#a5d45c58e82e2de3c3bb31e414984923b">enable_forced_view_updates()</a>. Probably This code has to be refactored.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a06e3f55dc1042e165adc50493d0f90b4">redraw_bitmap()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ac30c10982952f57d03a3e992e90eaca0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Interactor::get_caret_timecode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a string with the timecode (measure, beat, part) for current position, when caret on a music score. If caret is not on a music score, the returned string is empty.</p>
<p>See <a class="el" href="document-edition-overview.html">Editing documents overview</a></p>
<p>This method can be useful for displaying the timecode of the caret. For example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::update_status_bar_caret_timepos()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (is_edition_enabled())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">        {</div>
<div class="line">            StatusReporter* pStatus = m_appScope.get_status_reporter();</div>
<div class="line">            pStatus-&gt;report_caret_time( spInteractor-&gt;get_caret_timecode() );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#ab0eb1b3b36c719575bb4309f78ae40f1">blink_caret()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7f68d9df4df24a71f02b4cc906c71a56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DocCursor* Interactor::get_cursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the cursor associated to the View of this Interactor.</p>
<p>See <a class="el" href="document-edition-overview.html">Editing documents overview</a> </p>

</div>
</div>
<a class="anchor" id="ab87619c91a3ff8cb323815c2b3c088a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double* Interactor::get_elapsed_times </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rerturns a vector of times, with the elapsed times for the different steps related to rendering a document. When a new renderization is necessary, Lomse resets all time counters and starts timing the different steps. Your application only has to inform lomse when the rendering buffer has been copied onto the application window (do this by invioking method <a class="el" href="classInteractor.html#a8fa25043ac4be5ed9b5ebfb1368599de">timing_repaint_done()</a>). Then all times are available to be accessed by using this method.</p>
<p>Enum <a class="el" href="classInteractor.html#ad8858370241ddad5b8a36300b22f5665">Interactor::ETimingTarget</a> is used as index on the returned vector for identifying the operation to which each vector element refers.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::copy_buffer_on_dc(DC&amp; dc)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// draw lomse buffer onto DC</span></div>
<div class="line">        ...</div>
<div class="line"></div>
<div class="line">        <span class="comment">//inform lomse that the buffer has been copied</span></div>
<div class="line">        spInteractor-&gt;timing_repaint_done();</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Display ellapsed times for the different renderization steps</span></div>
<div class="line">        <span class="keywordtype">double</span>* pTimes = spInteractor-&gt;get_elapsed_times();</div>
<div class="line">        std::ostringstream msg;</div>
<div class="line">        msg &lt;&lt; std::fixed &lt;&lt; std::setprecision(2)</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Build graphic model = &quot;</span> </div>
<div class="line">            &lt;&lt; *(pTimes + Interactor::k_timing_gmodel_build_time) &lt;&lt; <span class="stringliteral">&quot;msecs.&quot;</span> &lt;&lt; endl</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Render gaphic model = &quot;</span></div>
<div class="line">            &lt;&lt; *(pTimes + Interactor::k_timing_gmodel_draw_time) &lt;&lt; <span class="stringliteral">&quot;msecs.&quot;</span> &lt;&lt; endl</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Render visual effects = &quot;</span></div>
<div class="line">            &lt;&lt; *(pTimes + Interactor::k_timing_visual_effects_draw_time) &lt;&lt; <span class="stringliteral">&quot;msecs.&quot;</span> &lt;&lt; endl</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Total Lomse render time = &quot;</span></div>
<div class="line">            &lt;&lt; *(pTimes + Interactor::k_timing_total_render_time) &lt;&lt; <span class="stringliteral">&quot;msecs.&quot;</span> &lt;&lt; endl</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Paint buffer on DC = &quot;</span></div>
<div class="line">            &lt;&lt; *(pTimes + Interactor::k_timing_repaint_time) &lt;&lt; <span class="stringliteral">&quot;msecs.&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ab5192c9307818200f5b08e93892c61ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GraphicModel* Interactor::get_graphic_model </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the graphic model object associated to the View of this Interactor. </p>

</div>
</div>
<a class="anchor" id="a4030a9cf2342d198a5890c30cecec4b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Interactor::get_num_pages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of pages in current document.</p>
<p>See <a class="el" href="print-api.html">Printing documents overview</a> </p>

</div>
</div>
<a class="anchor" id="a0b25e85a6074cc637ea6bd2a30e5bead"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Interactor::get_operating_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns current operation mode for this Interactor. Returned value is one of the values from enum EInteractorOpMode.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> DocumentWindow::is_edition_enabled()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!m_pPresenter)</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spIntor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">        <span class="keywordflow">return</span> spIntor-&gt;get_operating_mode() == Interactor::k_mode_edition;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a3dcd4218ab368cfba17ca1ef6974c012"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DiatonicPitch Interactor::get_pitch_at </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the pitch (<em>DiatonicPitch</em> type) of the staff point pointed by coordinates <em>x</em>, <em>y</em> or value <em>k_no_pitch</em> if not pointing to a staff.</p>
<p>This helper method is useful in some scenarios. For instance, if in your application the user is allowed to insert notes on a staff by clicking with the mouse on the insertion point, you will need to determine the nearest staff line/space, and the applicable clef, in order to determine the pitch for the note to insert. This method performs all these operations and returns the diatonic pitch for the staff point.</p>
<div class="fragment"><div class="line">DiatonicPitch DocumentWindow::get_pitch_at(Pixels x, Pixels y)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (m_pPresenter)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> spInteractor-&gt;get_pitch_at(x, y);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> DiatonicPitch(k_no_pitch);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ad79a50661807b829755219e4bdf21121"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double Interactor::get_scale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the current scale factor.</p>
<p>See <a class="el" href="viewport-overview.html#scale-factor">Scaling</a> </p>

</div>
</div>
<a class="anchor" id="aaf1d978d7d7e4ef3e6e6b6495cf9d2d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SelectionSet* Interactor::get_selection_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the selection set associated to the View of this Interactor.</p>
<p>See <a class="el" href="document-edition-overview.html">Editing documents overview</a> </p>

</div>
</div>
<a class="anchor" id="aaac9826efeddfba9c2ed3f8d1db0f96a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">View* Interactor::get_view </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the View associated to this Interactor. </p>

</div>
</div>
<a class="anchor" id="a331181fe34d2f9399578bbe4be3f5f65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::get_view_size </td>
          <td>(</td>
          <td class="paramtype">Pixels *&#160;</td>
          <td class="paramname"><em>xWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels *&#160;</td>
          <td class="paramname"><em>yHeight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the total size (pixels) of the whole rendered document (the whole visual space, all pages). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xWidth</td><td>Receives the width of the whole rendered document, in pixels. </td></tr>
    <tr><td class="paramname">yHeight</td><td>Receives the height of the whole rendered document, in pixels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a0eb3195aed54028cc3f250c38029e8f8">new_viewport()</a>, <a class="el" href="classInteractor.html#a81455e8a584d8dff982c3f43e92e7f34">set_viewport_at_page_center()</a>, <a class="el" href="classInteractor.html#afc7dac3c7d8b7d629f38b79750e34905">get_viewport()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afc7dac3c7d8b7d629f38b79750e34905"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::get_viewport </td>
          <td>(</td>
          <td class="paramtype">Pixels *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels *&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the current coordinates (pixels) of viewport origin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>The variables in which the viewport origin will be returned.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="viewport-overview.html#viewport-concept">Scrolling: the Viewport</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a0eb3195aed54028cc3f250c38029e8f8">new_viewport()</a>, <a class="el" href="classInteractor.html#a81455e8a584d8dff982c3f43e92e7f34">set_viewport_at_page_center()</a>, <a class="el" href="classInteractor.html#a331181fe34d2f9399578bbe4be3f5f65">get_view_size()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3e96befa4410ffe879ed55fc09d6c62b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Interactor::is_document_editable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns <span class="literal">true</span> if the document is editable.</p>
<dl class="section note"><dt>Note</dt><dd>Currently, LenMus documents are always editable. Therefore this method will always return <span class="literal">true</span>. But by invoking this method your application can be ready for disabling edition for future read-only documents. </dd></dl>

</div>
</div>
<a class="anchor" id="ae27a39c9cdbce876919dcd2a2205492e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::model_point_to_screen </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iPage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts logical coordinates relative to the start of a page to absolute coordinates in device units (pixels, relative to view origin).</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> iPage = 4;      <span class="comment">//in fact page 5. Remember iPage = 0..num_pages-1</span></div>
<div class="line"><span class="keywordtype">double</span> x = 4500.0;  <span class="comment">//LUnits relative to page 5 origin</span></div>
<div class="line"><span class="keywordtype">double</span> y = 2700.0;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">{</div>
<div class="line">    spInteractor-&gt;model_point_to_screen(&amp;x, &amp;y, iPage);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//Here @a x and @a y contains pixels relative to</span></div>
<div class="line">    <span class="comment">//view origin</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a0eb3195aed54028cc3f250c38029e8f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::new_viewport </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fForceRedraw</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets a new origin for the viewport. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>new coordinates (in pixels) for the viewport. </td></tr>
    <tr><td class="paramname">fForceRedraw</td><td>If <span class="literal">false</span> prevents redrawing the new viewport into the rendering buffer; this is useful for saving time when several consecutive changes are going to be done. If not specified <span class="literal">true</span> is assumed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The size of viewport (height, width) is always determined by rendering buffer size.</dd></dl>
<p>See <a class="el" href="viewport-overview.html#viewport-concept">Scrolling: the Viewport</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a81455e8a584d8dff982c3f43e92e7f34">set_viewport_at_page_center()</a>, <a class="el" href="classInteractor.html#afc7dac3c7d8b7d629f38b79750e34905">get_viewport()</a>, <a class="el" href="classInteractor.html#a331181fe34d2f9399578bbe4be3f5f65">get_view_size()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aed88fd6863f5cfff75bb53424a70a7b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::on_document_updated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inform Lomse that the Document associated to this Interactor has been modified. This forces Lomse to rebuild all the internal data associated to the document (e.g. the graphic model) and to refresh all the views.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Normally you don't have to use this method. But in some applications that don't use edition commands but modify the Document by direct manipulation of its internal data structures, this method it is needed for informing Lomse and forcing to render again all the views associated to the document. </dd></dl>

</div>
</div>
<a class="anchor" id="aeeecb406ca9317f8febb34c5859fbf02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::on_mouse_button_down </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inform Lomse that a mouse button down event received by your application has to be handled by Lomse in accordance to current selected Task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>Current mouse position, as reported by the mouse event received by your application. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags for keys pressed in the keyboard while the mouse button was pressed, as reported by the mouse event received by your application. Values for these flas are described by enum <a class="el" href="group__enumerations.html#ga6f553cc68bf4f84707dce1f1145d2107">EEventFlag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><ul>
<li><a class="el" href="tasks-page.html">Interaction with your application GUI</a>.</li>
<li><a class="el" href="classInteractor.html#af7c4afa0e8fd9136b5d1f2a52666c44f">switch_task()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="adc49c6e8ed61a099d26fb807fa0799b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::on_mouse_button_up </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inform Lomse that a mouse button up event received by your application has to be handled by Lomse in accordance to current selected Task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>Current mouse position, as reported by the mouse event received by your application. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags for keys pressed in the keyboard while the mouse button was released, as reported by the mouse event received by your application. Values for these flas are described by enum <a class="el" href="group__enumerations.html#ga6f553cc68bf4f84707dce1f1145d2107">EEventFlag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><ul>
<li><a class="el" href="tasks-page.html">Interaction with your application GUI</a>.</li>
<li><a class="el" href="classInteractor.html#af7c4afa0e8fd9136b5d1f2a52666c44f">switch_task()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a730f04bba76db217ff36512f63600470"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::on_mouse_enter_window </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inform Lomse that a mouse enter window event received by your application has to be handled by Lomse in accordance to current selected Task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>Current mouse position, as reported by the mouse event received by your application. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags for keys pressed in the keyboard while the mouse entered the window, as reported by the mouse event received by your application. Values for these flas are described by enum <a class="el" href="group__enumerations.html#ga6f553cc68bf4f84707dce1f1145d2107">EEventFlag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><ul>
<li><a class="el" href="tasks-page.html">Interaction with your application GUI</a>.</li>
<li><a class="el" href="classInteractor.html#af7c4afa0e8fd9136b5d1f2a52666c44f">switch_task()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="afbfb111029c260532f849362bf3b15f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::on_mouse_leave_window </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inform Lomse that a mouse leave window event received by your application has to be handled by Lomse in accordance to current selected Task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>Current mouse position, as reported by the mouse event received by your application. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags for keys pressed in the keyboard while the mouse moved out of the window, as reported by the mouse event received by your application. Values for these flas are described by enum <a class="el" href="group__enumerations.html#ga6f553cc68bf4f84707dce1f1145d2107">EEventFlag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><ul>
<li><a class="el" href="tasks-page.html">Interaction with your application GUI</a>.</li>
<li><a class="el" href="classInteractor.html#af7c4afa0e8fd9136b5d1f2a52666c44f">switch_task()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a7a50ff5b4d8e3f8892f9b096efe1f471"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::on_mouse_move </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inform Lomse that a mouse move event received by your application has to be handled by Lomse in accordance to current selected Task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>Current mouse position, as reported by the mouse event received by your application. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags for keys pressed in the keyboard while moving the mouse, as reported by the mouse event received by your application. Values for these flas are described by enum <a class="el" href="group__enumerations.html#ga6f553cc68bf4f84707dce1f1145d2107">EEventFlag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><ul>
<li><a class="el" href="tasks-page.html">Interaction with your application GUI</a>.</li>
<li><a class="el" href="classInteractor.html#af7c4afa0e8fd9136b5d1f2a52666c44f">switch_task()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a75600fd031826c9ae48ca4ada8b7ddce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Interactor::page_at_screen_point </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the page number (0 .. num_pages - 1) that contains the point <em>(x, y)</em> or -1 if point is out of page. Variables <em>x</em> and <em>y</em> are in absolute device units (pixels, relative to view origin).</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> x = 4500.0;  <span class="comment">//pixels relative to view origin</span></div>
<div class="line"><span class="keywordtype">double</span> y = 2700.0;  <span class="comment">//pixels</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> iPage = spInteractor-&gt;page_at_screen_point(x, y);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//Here @a iPage is the page number (0 .. num_pages - 1)</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a45f7fb6d5f2a8b0b6d4b5e670c96e06d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::print_page </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VPoint&#160;</td>
          <td class="paramname"><em>viewport</em> = <code>VPoint(0,&#160;0)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request Lomse to render a page on current print buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>The page to print (0..num_pages - 1) </td></tr>
    <tr><td class="paramname">viewport</td><td>The desired viewport. By changing the viewport in a loop of calls to this method your application can split the page in tiles, so that printing in large paper formats will not require huge buffer sizes.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="print-api.html">Printing documents overview</a> </p>

</div>
</div>
<a class="anchor" id="a06e3f55dc1042e165adc50493d0f90b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::redraw_bitmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoking this method forces Lomse to render again the View and, therefore, the rendering buffer gets updated. After doing it, Lomse <b>does not</b> generate a EventPaint event, as invoking this method implies that your application is aware of the rendering buffer change.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#ae370a7f70f2ea4269f38f9361428d133">force_redraw()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="af189f66901e4afab55d90407b12cb350"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::reset_boxes_to_draw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Instructs Lomse renderer to not render surrounding rectangles around any element.</p>
<p>See: <a class="el" href="classInteractor.html#a49da5398dca0fe4f7d15c5cceac23309">set_box_to_draw()</a>.</p>
<dl class="section attention"><dt>Attention</dt><dd>This method is oriented to debug Lomse. It might be removed from public API in future. </dd></dl>

</div>
</div>
<a class="anchor" id="a986167b680f97ad5914c69343a7d15c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual UPoint Interactor::screen_point_to_model_point </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts absolute device coordinates (pixels, relative to view origin) to absolute logical units.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::on_mouse_move_event(MouseEvent&amp; event)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!m_pPresenter)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classInteractor.html">Interactor</a>* pInteractor = spInteractor.get();</div>
<div class="line">        <span class="keywordflow">if</span> (!pInteractor) <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">        Point pos = <span class="keyword">event</span>.GetPosition();</div>
<div class="line">        <span class="keywordtype">unsigned</span> flags = <span class="keyword">event</span>.GetFlags(event);</div>
<div class="line"></div>
<div class="line">        UPoint uPos = pInteractor-&gt;<a class="code" href="classInteractor.html#a986167b680f97ad5914c69343a7d15c5">screen_point_to_model_point</a>(pos.x, pos.y);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//inform Lomse</span></div>
<div class="line">        pInteractor-&gt;<a class="code" href="classInteractor.html#a7a50ff5b4d8e3f8892f9b096efe1f471">on_mouse_move</a>(pos.x, pos.y, flags);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aaa5e88bd7eaa484ae2f0c11ab29e34ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::screen_point_to_page_point </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts device coordinates (pixels) to coordinates in logical units. The returned values are not absolute but relative to the start of the page at which the device point is pointing.</p>
<p>Once invoked, variables <em>x</em> and <em>y</em> should be statically cast to logical units (<em>LUnits</em> type).</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> x = 4500.0;  <span class="comment">//pixels relative to view origin</span></div>
<div class="line"><span class="keywordtype">double</span> y = 2700.0;  <span class="comment">//pixels</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> iPage = spInteractor-&gt;page_at_screen_point(x, y);</div>
<div class="line">    spInteractor-&gt;screen_point_to_page_point(&amp;x, &amp;y);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//Here @a x and @a y contains logical units relative to</span></div>
<div class="line">    <span class="comment">//page iPage origin</span></div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a81cf3a31b6c7e7bd4c6b22c20bb87f73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::select_voice </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restrict document cursor so that it only moves to positions occupied by the selected voice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>The new voice to be tracked (0 ... num_voices - 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>As a consequence of this operation the selected voice will be rendered highlighted.</li>
<li>This method only has effects is the object beign edited is a music score. For other top level objects this method does nothing. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a3108aa6a66e6db48008e8863f4604232"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::send_end_of_play_event </td>
          <td>(</td>
          <td class="paramtype">ImoScore *&#160;</td>
          <td class="paramname"><em>pScore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PlayerGui *&#160;</td>
          <td class="paramname"><em>pPlayCtrl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>This method should be for internal use. Analyse and refactor or document. </dd></dl>

</div>
</div>
<a class="anchor" id="a49da5398dca0fe4f7d15c5cceac23309"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::set_box_to_draw </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>boxType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Instructs Lomse renderer to draw a rectangle around the area occupied by elements of type <em>boxType</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boxType</td><td>The elements for which it is requested to draw a surrounding rectangle. Valid values are given by enum constants <em>GmoObj::k_box_xxxxxxx</em> defined in GmoObj class.</td></tr>
  </table>
  </dd>
</dl>
<p>See: <a class="el" href="classInteractor.html#af189f66901e4afab55d90407b12cb350">reset_boxes_to_draw()</a>.</p>
<dl class="section attention"><dt>Attention</dt><dd>This method is oriented to debug Lomse. It might be removed from public API in future. </dd></dl>

</div>
</div>
<a class="anchor" id="acb5d21578acde66c5da165f1fa808fb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::set_operating_mode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set current operation mode. An operation mode defines valid actions and commands on the Document. For instance, in 'read only' mode all actions that could alter Document content will be ignored. Valid operation modes are defined by enum <a class="el" href="classInteractor.html#ad4f899789a36ae984e9861aa6b91a6f8">EInteractorOpMode</a>. Look there for an explanation of the different operating modes.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::play_score(SpEventInfo pEvent)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        spInteractor-&gt;set_operating_mode(Interactor::k_mode_playback);</div>
<div class="line"></div>
<div class="line">        SpEventPlayScore pEv = boost::static_pointer_cast&lt;EventPlayScore&gt;(pEvent);</div>
<div class="line">        ImoScore* pScore = pEv-&gt;get_score();</div>
<div class="line">        ScorePlayer* pPlayer  = m_appScope.get_score_player();</div>
<div class="line">        PlayerGui* pPlayerGui = pEv-&gt;get_player();</div>
<div class="line"></div>
<div class="line">        pPlayer-&gt;load_score(pScore, pEv-&gt;get_player());</div>
<div class="line"></div>
<div class="line">        <span class="comment">//initialize with default options</span></div>
<div class="line">        <span class="keywordtype">bool</span> fVisualTracking = <span class="keyword">true</span>;</div>
<div class="line">        <span class="keywordtype">long</span> nMM = pPlayerGui-&gt;get_metronome_mm();</div>
<div class="line"></div>
<div class="line">        pPlayer-&gt;play(fVisualTracking, nMM, spInteractor.get());</div>
<div class="line">    }</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ab5402ba5556ee21c50bfab7a097cc5eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::set_print_buffer </td>
          <td>(</td>
          <td class="paramtype">RenderingBuffer *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the memory area to be used as buffer for printing operations.</p>
<p>In order to not interfere with screen display, a different rendering buffer is used for printing.</p>
<p>See <a class="el" href="print-api.html">Printing documents overview</a> </p>

</div>
</div>
<a class="anchor" id="a56006a47ef6164ad139c2d5bb1e17c3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::set_print_ppi </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ppi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the resolution (in dots per inch, dpi) to use for printing.</p>
<p>See <a class="el" href="print-api.html">Printing documents overview</a> </p>

</div>
</div>
<a class="anchor" id="a2494425c26d19946921e4b4e97f189f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::set_rendering_buffer </td>
          <td>(</td>
          <td class="paramtype">RenderingBuffer *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Associate a rendering buffer to the View related to this Interactor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>A ptr to the memory to be used as rendering buffer.</td></tr>
  </table>
  </dd>
</dl>
<p>Invoking this method is mandatory before doing any operation that would require to render the view. Normally this method is invoked when creating a new view. Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::display_document(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; filename, <span class="keywordtype">int</span> viewType)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//stop playback (just in case an score is being played in another window)</span></div>
<div class="line">    ScorePlayer* pPlayer  = m_appScope.get_score_player();</div>
<div class="line">    pPlayer-&gt;stop();</div>
<div class="line"></div>
<div class="line">    <span class="comment">//get lomse reporter</span></div>
<div class="line">    ostringstream&amp; reporter = m_appScope.get_lomse_reporter();</div>
<div class="line">    reporter.str(std::string());      <span class="comment">//remove any previous content</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">//delete current document, view, etc. associated to this window</span></div>
<div class="line">    <span class="keyword">delete</span> m_pPresenter; </div>
<div class="line">    <span class="comment">//and load file           </span></div>
<div class="line">    m_pPresenter = m_lomse.<a class="code" href="classLomseDoorway.html#a1b00546f591c2041df5ed86ea0681948">new_document</a>(viewType, filename, reporter);</div>
<div class="line"></div>
<div class="line">    set_zoom_mode(k_zoom_fit_width);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//connect the View with the window buffer</span></div>
<div class="line">        spInteractor-&gt;set_rendering_buffer(&amp;m_rbuf_window);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//register to receive the desired events</span></div>
<div class="line">        spInteractor-&gt;add_event_handler(k_update_window_event, <span class="keyword">this</span>, wrapper_update_window);</div>
<div class="line">        spInteractor-&gt;add_event_handler(k_do_play_score_event, <span class="keyword">this</span>, wrapper_play_score);</div>
<div class="line">        spInteractor-&gt;add_event_handler(k_pause_score_event, <span class="keyword">this</span>, wrapper_play_score);</div>
<div class="line">        spInteractor-&gt;add_event_handler(k_stop_playback_event, <span class="keyword">this</span>, wrapper_play_score);</div>
<div class="line">        spInteractor-&gt;add_event_handler(k_control_point_moved_event, <span class="keyword">this</span>, wrapper_on_command_event);</div>
<div class="line">        Document* pDoc = m_pPresenter-&gt;<a class="code" href="classPresenter.html#aedd747e959be4ba2ba249f9078623ac9">get_document_raw_ptr</a>();</div>
<div class="line">        pDoc-&gt;add_event_handler(k_on_click_event, <span class="keyword">this</span>, wrapper_on_click_event);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// display any errors</span></div>
<div class="line">        <span class="keywordflow">if</span> (!reporter.str().empty())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">string</span> errorMsg = reporter.str();</div>
<div class="line">            ...</div>
<div class="line">            ErrorDlg dlg(<span class="keyword">this</span>, errorMsg, ...);</div>
<div class="line">            dlg.ShowModal();</div>
<div class="line">        }</div>
<div class="line">        reporter.str(std::string());      <span class="comment">//remove any previous content</span></div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ab802d6e8a3fc482aa7f0fdf9029aecae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::set_rendering_option </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set/reset a rendering option for the view associated to this Interactor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>The option to set or reset. Valid values for this param are defined by enum #ERenderOptions </td></tr>
    <tr><td class="paramname">value</td><td><span class="literal">true</span> for enabling the option or <span class="literal">false</span> for disabling it.</td></tr>
  </table>
  </dd>
</dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::display_voices_in_colours(<span class="keywordtype">bool</span> value)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!m_pPresenter)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        spInteractor-&gt;set_rendering_option(k_option_display_voices_in_colours, value);</div>
<div class="line">        Refresh();    <span class="comment">//force to repaint this window</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a5e7dbf2be635475f40ba9b723a902d37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::set_scale </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fForceRedraw</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the scaling factor, useful for applications which require 'zooming'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scale</td><td>Is the new scale factor, e.g. 2.0 </td></tr>
    <tr><td class="paramname">x,y</td><td>Are the coordinates for the point that will remain fixed (unmoved) when applying the new scale (the center point for the zooming operation). </td></tr>
    <tr><td class="paramname">fForceRedraw</td><td>If <span class="literal">false</span> prevents Lomse from sending a paint event. This is useful to avoid repaints when some consecutive operations will affect the View.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="viewport-overview.html#scale-factor">Scaling</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a4ec8ec1d6b84a74d656f2773c741e222">zoom_in()</a>, <a class="el" href="classInteractor.html#a6fc96dec0a3767152cd953d2ec68ec96">zoom_out()</a>, <a class="el" href="classInteractor.html#ac83345221209221be48169f01a4cd253">zoom_fit_full()</a>, <a class="el" href="classInteractor.html#a8d486a75231279d13370cb9744f8cf11">zoom_fit_width()</a>, <a class="el" href="classInteractor.html#ad79a50661807b829755219e4bdf21121">get_scale()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a81455e8a584d8dff982c3f43e92e7f34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::set_viewport_at_page_center </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>screenWidth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets a new <em>x</em> origin for the viewport so that the viewport is centered on document page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">screenWidth</td><td>is the desired viewport width (in pixels) for computing the the new <em>x</em> origin.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This method computes the new origin as (pageWidth - screenWidth) / 2;</dd></dl>
<p>See <a class="el" href="viewport-overview.html#viewport-concept">Scrolling: the Viewport</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a0eb3195aed54028cc3f250c38029e8f8">new_viewport()</a>, <a class="el" href="classInteractor.html#afc7dac3c7d8b7d629f38b79750e34905">get_viewport()</a>, <a class="el" href="classInteractor.html#a331181fe34d2f9399578bbe4be3f5f65">get_view_size()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1fb104713775c65888909f3f1404faad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Interactor::should_enable_edit_redo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns <span class="literal">true</span> if there are commands in the redo queue.</p>
<dl class="section remark"><dt>Remarks</dt><dd>This method is oriented for applications wishing to validate that <a class="el" href="classInteractor.html#a6571c803f6a3626793756119821101e8">exec_redo()</a> can be invoked.</dd></dl>
<p>See <a class="el" href="document-edition-overview.html#edit-overview">The edition API</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#ac0f2b87ac27d4d4a4692dc9ce5b42291">exec_command()</a>, <a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">exec_undo()</a>, <a class="el" href="classInteractor.html#a6571c803f6a3626793756119821101e8">exec_redo()</a>, <a class="el" href="classInteractor.html#abd162053d322ad64eb94159e1437ce1e">should_enable_edit_undo()</a>, </dd></dl>

</div>
</div>
<a class="anchor" id="abd162053d322ad64eb94159e1437ce1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Interactor::should_enable_edit_undo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns <span class="literal">true</span> if there are commands in the undo queue.</p>
<dl class="section remark"><dt>Remarks</dt><dd>This method is oriented for applications wishing to validate that <a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">exec_undo()</a> can be invoked.</dd></dl>
<p>See <a class="el" href="document-edition-overview.html#edit-overview">The edition API</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#ac0f2b87ac27d4d4a4692dc9ce5b42291">exec_command()</a>, <a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">exec_undo()</a>, <a class="el" href="classInteractor.html#a6571c803f6a3626793756119821101e8">exec_redo()</a>, <a class="el" href="classInteractor.html#a1fb104713775c65888909f3f1404faad">should_enable_edit_redo()</a>, </dd></dl>

</div>
</div>
<a class="anchor" id="af7c4afa0e8fd9136b5d1f2a52666c44f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::switch_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>taskType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Switch the Task used by the Interactor for interpreting mouse events.</p>
<dl class="section remark"><dt>Remarks</dt><dd>When the Interactor is created it is initialized with an instace of TaskSelection class.</dd></dl>
<p>See <a class="el" href="tasks-page.html">Interaction with your application GUI</a>.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DocumentWindow::switch_mode_for_current_tool(<span class="keywordtype">int</span> toolType)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__typedefs.html#ga4d5b8da041fe9443104697bc6444363e">SpInteractor</a> spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">switch</span>(toolType)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> k_tool_data_entry:</div>
<div class="line">                spInteractor-&gt;switch_task(TaskFactory::k_task_data_entry);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">case</span> k_tool_selection:</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">                spInteractor-&gt;switch_task(TaskFactory::k_task_selection);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a8fa25043ac4be5ed9b5ebfb1368599de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interactor::timing_repaint_done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoke this method for informing Lomse when the rendering buffer has been copied onto the application window. See <a class="el" href="classInteractor.html#ab87619c91a3ff8cb323815c2b3c088a2">get_elapsed_times()</a> for more information.</p>
<p>This method is oriented to performance measurements. </p>

</div>
</div>
<a class="anchor" id="add8da1fe0fd8adddf1b30bcebf608636"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Interactor::view_needs_repaint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns <span class="literal">true</span> if the document, the graphic model, or any View option have been changed since last view renderization.</p>
<p>Your application rarely will need to invoke this method as Lomse automatically triggers updates when anything is changed. </p>

</div>
</div>
<a class="anchor" id="ac83345221209221be48169f01a4cd253"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::zoom_fit_full </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fForceRedraw</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjusts the scaling factor so that current document page will fit on the specified rectangle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width,height</td><td>Are the dimensions (in <em>Pixels</em>) of the rectangle in which the page should fit (usually the window size). </td></tr>
    <tr><td class="paramname">fForceRedraw</td><td>If <span class="literal">false</span> prevents Lomse from sending a paint event. This is useful to avoid repaints when some consecutive operations will affect the View.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="viewport-overview.html#scale-factor">Scaling</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a5e7dbf2be635475f40ba9b723a902d37">set_scale()</a>, <a class="el" href="classInteractor.html#a4ec8ec1d6b84a74d656f2773c741e222">zoom_in()</a>, <a class="el" href="classInteractor.html#a6fc96dec0a3767152cd953d2ec68ec96">zoom_out()</a>, <a class="el" href="classInteractor.html#a8d486a75231279d13370cb9744f8cf11">zoom_fit_width()</a>, <a class="el" href="classInteractor.html#ad79a50661807b829755219e4bdf21121">get_scale()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8d486a75231279d13370cb9744f8cf11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::zoom_fit_width </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fForceRedraw</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjusts the scaling factor so that current document page width will fit on the specified screen dimension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The dimension (in <em>Pixels</em>) in which the page width should fit (usually the window width). </td></tr>
    <tr><td class="paramname">fForceRedraw</td><td>If <span class="literal">false</span> prevents Lomse from sending a paint event. This is useful to avoid repaints when some consecutive operations will affect the View.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="viewport-overview.html#scale-factor">Scaling</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a5e7dbf2be635475f40ba9b723a902d37">set_scale()</a>, <a class="el" href="classInteractor.html#a4ec8ec1d6b84a74d656f2773c741e222">zoom_in()</a>, <a class="el" href="classInteractor.html#a6fc96dec0a3767152cd953d2ec68ec96">zoom_out()</a>, <a class="el" href="classInteractor.html#ac83345221209221be48169f01a4cd253">zoom_fit_full()</a>, <a class="el" href="classInteractor.html#ad79a50661807b829755219e4bdf21121">get_scale()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4ec8ec1d6b84a74d656f2773c741e222"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::zoom_in </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fForceRedraw</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Increments the scaling factor by 5%. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>Are the coordinates for the point that will remain fixed (unmoved) when applying the new scale (the center point for the zooming operation). </td></tr>
    <tr><td class="paramname">fForceRedraw</td><td>If <span class="literal">false</span> prevents Lomse from sending a paint event. This is useful to avoid repaints when some consecutive operations will affect the View.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="viewport-overview.html#scale-factor">Scaling</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a5e7dbf2be635475f40ba9b723a902d37">set_scale()</a>, <a class="el" href="classInteractor.html#a6fc96dec0a3767152cd953d2ec68ec96">zoom_out()</a>, <a class="el" href="classInteractor.html#ac83345221209221be48169f01a4cd253">zoom_fit_full()</a>, <a class="el" href="classInteractor.html#a8d486a75231279d13370cb9744f8cf11">zoom_fit_width()</a>, <a class="el" href="classInteractor.html#ad79a50661807b829755219e4bdf21121">get_scale()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6fc96dec0a3767152cd953d2ec68ec96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interactor::zoom_out </td>
          <td>(</td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>x</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Pixels&#160;</td>
          <td class="paramname"><em>y</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fForceRedraw</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decrements the scaling factor (near 5%) so that a subsequent zoom in operation will cancel the zoom out. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y</td><td>Are the coordinates for the point that will remain fixed (unmoved) when applying the new scale (the center point for the zooming operation). </td></tr>
    <tr><td class="paramname">fForceRedraw</td><td>If <span class="literal">false</span> prevents Lomse from sending a paint event. This is useful to avoid repaints when some consecutive operations will affect the View.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="viewport-overview.html#scale-factor">Scaling</a></p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classInteractor.html#a5e7dbf2be635475f40ba9b723a902d37">set_scale()</a>, <a class="el" href="classInteractor.html#a4ec8ec1d6b84a74d656f2773c741e222">zoom_in()</a>, <a class="el" href="classInteractor.html#ac83345221209221be48169f01a4cd253">zoom_fit_full()</a>, <a class="el" href="classInteractor.html#a8d486a75231279d13370cb9744f8cf11">zoom_fit_width()</a>, <a class="el" href="classInteractor.html#ad79a50661807b829755219e4bdf21121">get_scale()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classInteractor.html">Interactor</a></li>
    <li class="footer">Generated on Tue Apr 26 2016 17:34:11 for Lomse library. API documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
