<html>
<!-- $Updated: 2013/04/24 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Lomse changelog</title>
<link rel="stylesheet" media="all" href="singledoc.css" type="text/css" />
</head>
<body>

<h1>Lomse Library. Log of changes</h1>

<!-- ============================================================================ -->
<p>Version 0.14.0</p>
    <p>Fixes to support Chinese language, bug fixes related to multi-threading,
       other fixes and some refactoring.</p>

    <ul>
        <li>Version number increased to 0.14.0 due to backwards incompatible API changes.</li>
        <li>Document and Interactor raw pointers are now converted to shared pointers
          when ownership is transferred to Presenter.</li>
        <li>All Presenter API raw pointers to Document and to Interactor changed 
          to weak_ptr.</li>
        <li>All events receive now a weak_ptr to Interactor instead of a raw_ptr so
          that code processing event can check if the event is still valid.</li>
        <li>Limitation removed: Time units now represented as double.</li>
        <li>Fixed bug in Ctrol objects: bad font selected for Chinese language.</li>
        <li>Changed GmoShapeText and ImoScoreText to include language .</li>
        <li>PresentersCollection removed: not used and not needed.</li>
        <li>Fixed bug in ColStaffObjs iterator causing problems in destructor.</li>
        <li>ScorePlayerCtrol: changes to use a graphical UI.</li>
        <li>Refactoring: classes RefToGmo and MultiRefToGmo removed (not used).</li>
        <li>Refactoring: GmoShape Id type changed from int to ShapeId.</li>
        <li>Refactoring: ImoObj Id type changed from long to ImoId.</li>
        <li>Refactoring: GmoRef defined. Maps to get Gmo for Imo revised.</li>
        <li>Bug fixed in DefaultTextSplitter causing an infinite loop (app. hangs).</li>
        <li>Bug fixed in ScorePlayer causing occational crashes.</li>
        <li>Bug fixed in Interactor mouse events processing, causing crashes.</li>
        <li>Logger class developped. Logging messages added in many places.</li>
    </ul>



<!-- ============================================================================ -->
<p>Version 0.13.1</p>
    <p>Implementing edition (2). Caret and CaretPositioner.</p>

    <ul>
        <li>Version number increased to 0.13.1</li>
        <li>Caret object implemented: a displayable cursor on the document.</li>
        <li>CaretPositioner implemented: responsible for Caret layout and position.</li>
        <li>Interactor/Presented modified to create/own DocCursor & DocCommandExecuter</li>
        <li>GraphicView modified to display Caret</li>
        <li>Interactor: added methods to control Caret state and position</li>
        <li>ScoreCursor: state now includes timepos for ref_obj.</li>
        <li>ScoreCursor: added method to find previous staffobj</li>
        <li>ScoreCursor: added helper methods to test for position type.</li>
        <li>GModel modified for accesing a GmoBox given the id of its creator Imo</li>
        <li>GModel: added helper methods for positioning caret.</li>
    </ul>


<!-- ============================================================================ -->
<p>Version 0.13.0</p>
    <p>Implementing edition commands (1). Refactoring and required functionality.</p>

    <ul>
        <li>More funcionality:
        <ul>
            <li>DocumentCursor and children cursors created.</li>
            <li>ScoreCursor: changes for moving on a time grid</li>
            <li>Added ScoreModifier class: Preliminary code to delete a staffobj</li>
        </ul></li>

        <li>Changes for ensuring integrity after an edit operation:
        <ul>
            <li>IdAssiner now responsible for translation from ImoObj Id to pointer to ImoObj.</li>
            <li>ImoObj pointer replaced by ImoObj id. in many API methods</li>
        </ul></li>

        <li>Changes for supporting undo/redo:
        <ul>
            <li>LDP: comments now also posible in C style (/*..*/)</li>
            <li>Document: generates checkpoints and restore from checkpoint.</li>
            <li>LmdExporter: main tags operational with scores in ldp format.</li>
        </ul></li>

        <li>Refactoring:
        <ul>
            <li>version number increased to 0.13, to reflect backward incompatible API changes</li>
            <li>Added ButtonCtrl. All Controls reviewed to ensure uniform approach.</li>
            <li>ColStaffObjs: adding support inserting/deleting objects
            <ul>
                <li>time now kept in staffobj instead of in ColStaffObjEntry</li>
                <li>change ColStaffObjs to a double linked list. Sort during insertion</li>
                <li>change ColStaffObjsBuilder to remove goBack/goFwd nodes</li>
            </ul></li>
        </ul></li>
    </ul>


<!-- ============================================================================ -->
<p>Version 0.12.5 (24/Nov/2012)</p>
<ul>
    <li>Added public method GmoShapeImage::set_image().</li>
    <li>Added progress bar control (class ProgressBarCtrl).</li>
    <li>Bug fixed: background color doesn't change if a different color specified.</li>
</ul>

<!-- ============================================================================ -->
<p>Version 0.12 (7/Sep/2012)</p>
<ul>
    <li>TextSplitter class added, to support different languages.</li>
    <li>Language and font-file tags added to LDP and LMD analysers.</li>
    <li>Added default font for Chinese.</li>
    <li>Added Metronome class.</li>
    <li>Added CheckboxCtrl class.</li>
    <li>Changes in PlayerGui class. Defined PlayerNoGui class.</li>
    <li>Changes for allowing customization of ScorePlayerCtrl at Lomse initialization.</li>
    <li>Changes in ScorePlayer for better usage of PlayerGui.</li>
    <li>Fixed bug in ScorePlayerCtrol, preventing labels translation.</li>
    <li>ScorePlayer::quit() method added, to avoid problems during user application quit.</li>
</ul>


<p>Version 0.11</p>
<ul>
    <li>Added method LomseDoorway::set_default_fonts_path() so that applications linking Lomse statically can inform Lomse about the path where default fonts are located.</li>
</ul>


<p>Version 0.10.b1</p>
    <li>Initial public release, used in Phonascus 5.0 beta for Linux.</li>
</ul>
